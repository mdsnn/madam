<!DOCTYPE html>
<html lang="en">
  <head>
    <title> GORDON-GIBSON </title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind dark mode -->
    <script>
        (function() {
          const savedTheme = localStorage.getItem("theme");
    
          if (savedTheme === "dark") {
              document.documentElement.classList.add("dark");
          } else if (savedTheme === "light") {
              document.documentElement.classList.remove("dark");
          } else {
      // Check system preference
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
              document.documentElement.classList.add("dark");
          }
        }
      })();

      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {}
        }
      }
    </script>
    
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200">
    <header class="bg-gray-100 dark:bg-gray-800 shadow-md">
      <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
        <div class="font-bold text-xl">
          <%= link_to "madam", root_path, class: "text-blue-600 dark:text-blue-400" %>
        </div>
        <div class="space-x-4">
          <%= link_to "Home", root_path, class: "hover:text-blue-600 dark:hover:text-blue-400" %>
          <%= link_to "About", about_path, class: "hover:text-blue-600 dark:hover:text-blue-400" %>
          <%= link_to "Contact", contact_path, class: "hover:text-blue-600 dark:hover:text-blue-400" %>
        </div>
        <div data-controller="theme">
          <label class="relative inline-flex items-center cursor-pointer">
            <input 
              type="checkbox" 
              class="sr-only peer" 
              data-theme-target="toggle" 
              data-action="change->theme#toggle"
            >
            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
            <span class="ml-3 text-sm font-medium">
              <span class="hidden dark:inline">üåô</span>
              <span class="inline dark:hidden">‚òÄÔ∏è</span>
            </span>
          </label>
        </div>
      </nav>
    </header>

    <main class="container mx-auto px-4 py-6">
      <%= yield %>
    </main>

    <footer class="bg-gray-100 dark:bg-gray-800 py-4 mt-8">
      <div class="container mx-auto px-4 text-center">
        <p>&copy; <%= Date.today.year %> Your App</p>
      </div>
    </footer>
  </body>
</html>
